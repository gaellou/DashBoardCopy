{"version":3,"sources":["lib/http/dist/hyperapphttp.js"],"names":["hyperapphttp","exports","a","request","dispatch","props","url","action","options","expect","fetch","then","response","ok","body","result","catch","error","b"],"mappings":"AAAA,IAAIA,aAAgB,SAAUC,GAC5B,aAEA,IAAkBC,EAMdC,GANcD,EAMD,CAACE,EAAUC,KAC1B,IAAIC,EAAMD,EAAMC,IACZC,EAASF,EAAME,OACfC,EAAUH,EAAMG,SAAW,GAC3BC,EAASJ,EAAMI,QAAU,OAE7B,OAAOC,MAAMJ,EAAKE,GACfG,MAAK,SAASC,GACb,IAAKA,EAASC,GACZ,MAAMD,EAER,OAAOA,KAERD,MAAK,SAASG,GACb,OAAOA,EAAKL,QAEbE,MAAK,SAASI,GACbX,EAASG,EAAQQ,MAElBC,OAAM,SAASC,GACdb,EAASG,EAAQU,OAzBd,SAASC,GACd,MAAO,CAAChB,EAAGgB,KA8Bf,OAFAjB,EAAQE,QAAUA,EAEXF,EAnCU,CAqCjB","sourcesContent":["var hyperapphttp = (function (exports) {\n  'use strict';\n\n  var fx = function(a) {\n    return function(b) {\n      return [a, b]\n    }\n  };\n\n  var request = fx((dispatch, props) => {\n    var url = props.url;\n    var action = props.action;\n    var options = props.options || {};\n    var expect = props.expect || \"text\";\n\n    return fetch(url, options)\n      .then(function(response) {\n        if (!response.ok) {\n          throw response\n        }\n        return response\n      })\n      .then(function(body) {\n        return body[expect]()\n      })\n      .then(function(result) {\n        dispatch(action, result);\n      })\n      .catch(function(error) {\n        dispatch(action, error);\n      })\n  });\n\n  exports.request = request;\n\n  return exports;\n\n}({}));\n//# sourceMappingURL=hyperapphttp.js.map\n"]}